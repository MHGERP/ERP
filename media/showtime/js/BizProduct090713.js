usingNamespace("Biz.Product")["Product"]={turn:function(){var D=document.getElementById("groupPrice");if(D==null){return}var C=document.getElementById("pop1");var B=document.getElementById("closePrice");var A=false;D.onclick=function(){if(A==false){C.style.display="block";A=true}else{C.style.display="none";A=false}return false};B.onclick=function(){C.style.display="none";A=false;return false}},turn2:function(){var B=document.getElementById("memPrice");if(!B){return false}var C=document.getElementById("pop2");if(!C){return false}var A=document.getElementById("closePrice2");if(!A){return false}turn=false;B.onclick=function(){if(turn==false){C.style.display="block";turn=true}else{C.style.display="none";turn=false}return false};A.onclick=function(){C.style.display="none";turn=false;return false}},showDetail:function(B,A){if($(A).css("display")=="none"){$(A).slideDown("fast",function(){$(B).addClass("close");$(B).data("oldStr",$(B).text()).attr("title","Hide")})}else{$(A).slideUp("fast",function(){$(B).removeClass("close");var C=$(B).data("oldStr");$(B).text(C).attr("title",C)})}},addRelatedProduct:function(I,A,H){var D=$("#"+I).find(".moveUnit");var B=D.length;var G="";var C="";for(var E=1;E<=B;E++){var F=$("#add2Cart_"+E);if(F.attr("checked")==true){G+=F.attr("rel")+",";C+="1,"}}G+=H;C+="1";var A=A+"?Action=Add&productno="+G+"&quantity="+C;window.location=A},SetCheckedRelatedProduct:function(D,C){var F=$("#"+D).find(".moveUnit");var E=F.length;var G=0;for(var B=1;B<=E;B++){var A=$("#add2Cart_"+B);if(A.attr("checked")==true){G+=1}}$("#"+C).text(G)},ChangePic:function(A){$("#midImg").attr("src",$(A).attr("ref1"));$("#bigImg").attr("href",$(A).attr("ref2"));$("#thumList").find("a").removeClass("currentItem");$(A).parent().addClass("currentItem")},NavigationShowMore:function(B,A){if($(A).css("display")=="none"){$(A).slideDown("fast",function(){$(B).addClass("close");var C=$Resource.BuildContent("Hidden");$(B).data("oldStr",$(B).text()).attr("title",C)})}else{$(A).slideUp("fast",function(){$(B).removeClass("close");var C=$(B).data("oldStr");$(B).text(C).attr("title",C)})}},InitSpecialTable:function(){var A=$("#specialTable td");A.eq(0).addClass("headline");A.eq(1).addClass("detailIntro")},InitAlsoBuy:function(){if(typeof(currRelated)!="undefined"&&currRelated!=null&&currRelated.length>0){var A=$("#listItemAlsoBuy");if(currRelated.length==1){A.addClass("noBorderBot")}Biz.Product.Product.FillAlsoBuyItem("listItemAlsoBuy",0);for(i=1;i<currRelated.length;i++){var B=A.clone();B.attr("id","listItemAlsoBuy"+i);if(i==currRelated.length-1){B.addClass("noBorderBot")}A.after(B);A=B}for(i=1;i<currRelated.length;i++){Biz.Product.Product.FillAlsoBuyItem("listItemAlsoBuy"+i,i)}$("#productAlsoBuy").show()}},FillAlsoBuyItem:function(C,H){var L=$("#"+C+">li>a");var D=$("#"+C+">li>a>img");var J=$("#"+C+">li>h4>a");var F=$("#"+C+">li>em");var K=currRelated[H][0];var B=currRelated[H][1];var M=currRelated[H][2];var E=new Number(Web.Utils.Converter.ToFloat(currRelated[H][5]));var G="\uffe5"+E.toFixed(2);var A=productUrl.replace("paramForProductID",K);L.attr("href",A);L.attr("title",B);D.attr("src",M);D.attr("alt",B);J.attr("href",A);J.attr("title",B);var I=B;if(B.length>=35){var I=B.substring(0,35)+"..."}J.text(I);F.text(G)},AddWarrantyItem:function(B,A){var D=false;var C="";$("#extendService").find("input").each(function(E){D=$(this).attr("checked");if(D==true){C=$(this).attr("ref2")}});if(Web.Utils.String.IsNullOrEmpty(C)==true){return}var A=A+"?Action=Add&productno="+B+"&warrantyID="+C;window.location=A}};usingNamespace("Biz.Product")["ProductDetail"]={Delay:function(A,C){var B=$Url.BuildUrl("Ajax/Product/ProductDetailDelay.aspx","WWW");var D="productno="+A+"&name="+$HttpUtility.UrlEncode(C);$.ajax({type:"GET",dataType:"html",url:B,cache:false,data:D,beforeSend:function(E){},success:function(E){Biz.Product.ProductDetail.proccessed(E)},complete:function(E,F){},error:function(){}})},proccessed:function(B){if($String.IsNullOrEmpty($String.Trim(B))){return}var A=$(B);$("#productDetailDelay").html(A);$("#productDetailDelay").fadeIn("slow")}};usingNamespace("Biz.Product")["Image"]={ChangePic:function(A){$(".thumb>ul>li>a").removeClass("current");$(A).parent().addClass("current")},ChangeBigPic:function(A,C){Biz.Product.Image.ChangePic(A);var B=parseInt($(A).attr("index"));$("#bigImg").attr("src",$(A).attr("ref1"));$("#bigImg").attr("index",B);$("#btnPrev").removeClass();$("#btnNext").removeClass();if(B==0&&B==C-1){$("#btnPrev").addClass("prevStop");$("#btnNext").addClass("nextStop")}else{if(B==0){$("#btnPrev").addClass("prevStop");$("#btnNext").addClass("next")}else{if(B==C-1){$("#btnPrev").addClass("prev");$("#btnNext").addClass("nextStop")}else{$("#btnPrev").addClass("prev");$("#btnNext").addClass("next")}}}},MovePrev:function(C){var B=parseInt($("#bigImg").attr("index"));if(B==0){return}var A=B-1;$(".thumb>ul>li>a>img").each(function(){if(parseInt($(this).attr("index"))==A){Biz.Product.Image.ChangePic(this);Biz.Product.Image.ChangeBigPic(this,C)}})},MoveNext:function(C){var B=parseInt($("#bigImg").attr("index"));if(B==C-1){return}var A=B+1;$(".thumb>ul>li>a>img").each(function(){if(parseInt($(this).attr("index"))==A){Biz.Product.Image.ChangePic(this);Biz.Product.Image.ChangeBigPic(this,C)}})}};usingNamespace("Biz.Product")["Compare"]={ToCompare:function(B,F){var E=$State.GetValue($State.Name.ProductCompare,"N"+F);var A=E.split(";");var H="?Item=";var G=(A.length-1);if(G<2){var D=$Resource.BuildContent("MustSelect");alert(D);return void (0)}for(var C=0;C<G;C++){H+=A[C];if(C!=A.length-2){H+=","}}window.location=B+H},InitData:function(E){$(".comparePanel ul").empty();var D=$State.GetValue($State.Name.ProductCompare,"N"+E);var C=D.split(";");var F=0;for(var B=0;B<C.length-1;B++){F++;var A=C[B];$(".comparePanel ul").append("<li><img src='"+$Resource.BuildProductImage($Resource.ImageSize.Small,A)+"'/><a href='javascript:Biz.Product.Compare.Delete(\""+E+'","'+A+"\")'></a></li>")}for(var B=F;B<5;B++){$(".comparePanel ul").append("<li></li>")}},Add:function(C,E){var B=$State.GetValue($State.Name.ProductCompare,"N"+C);var D=E+";";if(B.split(";").length-1>=5){var A=$Resource.BuildContent("MustUnder5");alert(A);Biz.Product.Compare.RemoveProductCellCheckStatus(E);return}if(B.indexOf(D)<0){B=B+D;$State.Save($State.Name.ProductCompare,$Json.FromJson('{"N'+C+'":"'+B+'"}'))}Biz.Product.Compare.InitData(C)},Del:function(B,D){var A=$State.GetValue($State.Name.ProductCompare,"N"+B);var C=D+";";A=A.replace(C,"");$State.Save($State.Name.ProductCompare,$Json.FromJson('{"N'+B+'":"'+A+'"}'))},GetProductListByCategoryID:function(E){var D=$State.GetValue($State.Name.ProductCompare,"N"+E);var B=D.split(";");var A=new Array();for(var C=0;C<B.length;C++){if(!$String.IsNullOrEmpty(B[C])){A.push(B[C])}}return A},RemoveProductCellCheckStatus:function(A){$("#compare"+A).attr("checked","").parents("dd").removeClass("selected")},InitProductListCheckStatus:function(C){var A=Biz.Product.Compare.GetProductListByCategoryID(C);$("input[name='compare']").attr("checked","");for(var B=0;B<A.length;B++){$("#compare"+A[B]).attr("checked",true).parents("dd").addClass("selected")}Biz.Product.Compare.InitData(C)},ProductCompare:function(B,A){var C=B.value;if(B.checked){Biz.Product.Compare.Add(A,C)}else{Biz.Product.Compare.Delete(A,C)}},DelCompareLink:function(A,B,C){Biz.Product.Compare.Del(B,C);window.location=A},Delete:function(A,B){Biz.Product.Compare.Del(A,B);Biz.Product.Compare.InitData(A);Biz.Product.Compare.RemoveProductCellCheckStatus(B)}};usingNamespace("Biz.Product")["LeftNavigation"]={menuSlide:function(){var A=$(".sideMenu dt em");if(A.length){$(A).click(function(){if(this.className=="close"){this.className="";$(this).parents("dl").children("dd").slideDown("100")}else{this.className="close";$(this).parents("dl").children("dd").slideUp("100")}})}},searchLeftMore:function(){$(".searchMore dt").click(function(){if($(this).parents("dl").children("dd").attr("class")!="show"){$(this).parents("dl").children("dd").addClass("show")}else{$(this).parents("dl").children("dd").removeClass("show")}})}};usingNamespace("Biz.Product")["PaginationBar"]={getUrl:function(){var A=window.location.pathname.toString();var B=A.indexOf("?");if(B!=-1){A=A.substring(0,B)}return A},go:function(I,B,E,K){if(String.isNullOrEmpty(I)){pagePageName="pageIndex"}var J=parseInt($("#"+B).val());var H=Number.parse(E);if(isNaN(H)||H<=0){H=1}if(isNaN(J)||J<=0){J=1}if(J>H){J=H}var D=false;var F=new Sys.Text.StringBuilder();var G=window.location.search.substring(1);if(G&&G.length>0){var A=G.split("&");for(i=0;i<A.length;i++){var C=A[i].split("=");if(C&&C.length==2){if(I.toUpperCase()==C[0].toUpperCase()&&!D){D=true;F.append(I+"="+J+"&")}else{F.append(C[0]+"="+C[1]+"&")}}}if(!D){F.append(I+"="+J+"&")}}else{if(!D){F.append(I+"="+J+"&")}}window.location.href=Biz.Product.PaginationBar.getUrl()+"?"+F.toString().rTrim("&")}};usingNamespace("Biz.Product")["DisplayOptions"]={getListStyleForPage:function(A){return $State.GetValue($State.Name.Product,A)},SwitchStyle:function(oldC,newC){var titleOld=$Resource.BuildContent("ProductList_ListStyle"+oldC);var titleNew=$Resource.BuildContent("ProductList_ListStyle"+newC);$("#productList").removeClass("listShow"+oldC).addClass("listShow"+newC);$(".displayPanel .showStyle .show"+newC).html('<span title="'+titleNew+'" class="current"></span>');var eventStr="return Biz.Product.DisplayOptions.SwitchStyle('"+newC+"', '"+oldC+"');";var aHtml=$('<a href="javascript:void(0)" onclick="'+eventStr+'" title="'+titleOld+'"></a>');$(".displayPanel .showStyle .show"+oldC).empty().append(aHtml);$("input[name=listStyle]").val(newC);var pageName=Environment.PageName;var jsonObject=eval("({"+pageName+':"'+newC+'"})');$State.Save($State.Name.Product,jsonObject);$("li[name=eggRemark]").each(function(i){if(oldC=="Row"){$(this).show()}else{$(this).hide()}});return false},ChangePageSize:function(A,B){var D=$State.GetValue($State.Name.PageSizes,A);var F=B+";";D=D.replace(F,"");$State.Save($State.Name.PageSizes,$Json.FromJson('{"'+A+'":"'+B+'"}'));var C=window.location.href;var C=C.split("?")[0];var H=$("input[name=listStyle]").val();var G=$QueryString.ToString();var E=C.split("#")[0]+G;window.location.href=E;return false},ChangeProductListOrderType:function(C){var B=C.value;if(B=="-1"){C.selectedIndex=0;return}var A=window.location.href;var A=A.split("?")[0];var F=$("input[name=listStyle]").val();var E=$QueryString.Set("sort",B);var D=A.split("#")[0]+E;window.location.href=D;return false}};usingNamespace("Biz.Product")["SearchWithInKeyword"]={submitSearchWithInKeyword:function(A,B){Biz.Product.SearchWithInKeyword.resetWithInKeyword(A,B);Biz.Product.SearchWithInKeyword.onSumbitSearchWithInKeyword(A,B);$("#"+B).submit()},onSumbitSearchWithInKeyword:function(B,D){var C=$Resource.BuildContent("SearchWithInKeyword");var A=$("#"+D+" input[name="+B+"]").val();if($.trim(A)==C||$.trim(A)==""){$("#"+D+" input[name="+B+"]").val("");return false}else{return true}},searchWithInEnter:function(D,A,C){var B;if(window.event){B=event.keyCode}if(D.which){B=D.which}if(B==13){Biz.Product.SearchWithInKeyword.submitSearchWithInKeyword(A,C);return false}},resetWithInKeyword:function(B,D){var C=$Resource.BuildContent("SearchWithInKeyword");var A=$("#"+D+" input[name="+B+"]").val();if($.trim(A)==C){$("#"+D+" input[name="+B+"]").val("")}else{if($.trim(A)==""){$("#"+D+" input[name="+B+"]").val(C)}}}};usingNamespace("Biz.Product")["TreasureHunt"]={DoTreasureHunt:function(C){var B=$Resource.BuildContent("PleaseInputKeyWords");var A=$.trim($("#txtRefurbishedSearchAreaKeyWord").val());if(A==null||$String.IsNullOrEmpty(A)==true||A==B){$("#txtRefurbishedSearchAreaKeyWord").val("")}document.forms[C].submit()}};
